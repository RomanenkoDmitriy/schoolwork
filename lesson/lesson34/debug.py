#run `pip install pillow` before
#make sure you have `requests` lib installed
#use https://pillow.readthedocs.io/en/stable/handbook/tutorial.html for reference

from PIL import Image
import requests
import os
import threading


URL = 'https://lp-cms-production.imgix.net/2019-06/4871827ef10d74079fb636806d371ccc-brighton-hove.jpg'
URL2 = 'https://vjoy.cc/wp-content/uploads/2020/09/bezymyannyjkvytstsk.jpg'
URL3 = 'https://i.pinimg.com/736x/95/30/41/953041070f000d45c05c912005f63724.jpg'
URL4 = 'data:image/jpeg;base64,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'
URL5 = 'https://mirpozitiva.ru/wp-content/uploads/2019/11/1472042719_15.jpg'

def load_image(url, filename='example.jpg'):
    with Image.open(requests.get(url, stream=True).raw) as image:
        image.save(os.path.join(os.getcwd(), filename))



def print_image_data(file):
    image = Image.open(file)
    print(image.size, image.mode)

def is_square_image(file):
    image = Image.open(file)
    return image.size[0] == image.size[1]

def create_thumbnail(file):
    '''# TODO: handle all errors on thumbnail creation'''
    thumbnail_size = (200, 200)
    image = Image.open(file)
    image.thumbnail(thumbnail_size)
    image.save('thumbnail.jpg', 'JPEG')

def is_thumbnail(file):
    thumbnail_size = [200, 200]
    image = Image.open(file)
    return image.size == thumbnail_size

def rotate_image(file, degrees):
    image = Image.open(file)
    rotated = image.rotate(degrees)
    rotated.save('rotated.jpg')

def flip_image(file, direction):
    directions = {'LT': Image.FLIP_LEFT_RIGHT, 'TB': Image.FLIP_TOP_BOTTOM}
    image = Image.open(file)
    out = image.transpose(directions[direction])
    out.save('flipped.jpg')

def copy_images_to_dir(dirname):
    '''Copies all images from current folder into subfolder'''
    path = os.path.join(os.getcwd())
    for file in os.listdir(path):
        try:
            image = Image.open(file)
            image.save(os.path.join(os.getcwd(), dirname, image.filename))
        except:
            break

def delete_images(path=os.path.join(os.getcwd())):
    for file in os.listdir(path):
        if file.endswith('.jpg'):
            os.remove(file)

''' TODO: create a function that will save rectangle area from given image to the separate file'''
# with name 'rectangle.jpg'. Coordinates of rectangle have to be passed as tuple of 4 integers
def rectangular_area(file):
    path = os.path.join(os.getcwd(), 'images', file)
    box = (500, 150, 600, 300)
    with Image.open(path) as image:
        im_crop = image.crop(box)
        im_crop.save('rectangle.jpg', quality=95)




if __name__ == '__main__':
    load_img = threading.Thread(target=load_image, args=(URL, 'img1.jpg'))
    load_img2 = threading.Thread(target=load_image, args=(URL2, 'img2.jpg'))
    load_img3 = threading.Thread(target=load_image, args=(URL3,'img3.jpg'))
    load_img4 = threading.Thread(target=load_image, args=(URL4, 'img4.jpg'))
    load_img5 = threading.Thread(target=load_image, args=(URL5, 'img1.jpg'))
    load_img.start()
    load_img2.start()
    load_img3.start()
    load_img4.start()
    load_img5.start()
    # load_image(URL)
    # print_image_data('example.jpg')
    # print(is_square_image('example.jpg'))
    # create_thumbnail('example.jpg')
    # print(is_thumbnail('thumbnail.jpg'))
    # rotate_image('images/example.jpg', 45)
    # flip_image('example.jpg', 'LT')
    # copy_images_to_dir('images')
    # delete_images()
    # rectangular_area('example.jpg')
    print('Done!')
